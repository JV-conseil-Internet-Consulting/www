"use strict";(self.webpackChunkdeepdive=self.webpackChunkdeepdive||[]).push([[632],{22383:(e,t,n)=>{function r(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){i=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,u=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof F?t:F,o=Object.create(i.prototype),a=new j(r||[]);return u(o,"_invoke",{value:A(e,n,a)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var v="suspendedStart",y="suspendedYield",m="executing",p="completed",g={};function F(){}function b(){}function D(){}var _={};f(_,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(z([])));k&&k!==n&&r.call(k,a)&&(_=k);var x=D.prototype=F.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,u,o,a){var s=d(e[i],e,u);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==c(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,a)}),(function(e){n("throw",e,o,a)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,a)}))}a(s.arg)}var i;u(this,"_invoke",{value:function(e,r){function u(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(u,u):u()}})}function A(t,n,r){var i=v;return function(u,o){if(i===m)throw Error("Generator is already running");if(i===p){if("throw"===u)throw o;return{value:e,done:!0}}for(r.method=u,r.arg=o;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===v)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?p:y,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=p,r.method="throw",r.arg=c.arg)}}}function S(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var u=d(i,t.iterator,n.arg);if("throw"===u.type)return n.method="throw",n.arg=u.arg,n.delegate=null,g;var o=u.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function z(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,u=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return u.next=u}}throw new TypeError(c(t)+" is not iterable")}return b.prototype=D,u(x,"constructor",{value:D,configurable:!0}),u(D,"constructor",{value:b,configurable:!0}),b.displayName=f(D,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,D):(e.__proto__=D,f(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},E(C.prototype),f(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,u){void 0===u&&(u=Promise);var o=new C(h(e,n,r,i),u);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),f(x,l,"Generator"),f(x,a,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=z,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var u=this.tryEntries.length-1;u>=0;--u){var o=this.tryEntries[u],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var u=i;break}}u&&("break"===e||"continue"===e)&&u.tryLoc<=t&&t<=u.finallyLoc&&(u=null);var o=u?u.completion:{};return o.type=e,o.arg=t,u?(this.method="next",this.next=u.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:z(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,u,o,a=[],s=!0,c=!1;try{if(u=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=u.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,u=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw u}}}}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}function v(e,t,n,r){return new(n||(n=Promise))((function(i,u){function o(e){try{s(r.next(e))}catch(e){u(e)}}function a(e){try{s(r.throw(e))}catch(e){u(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}s((r=r.apply(e,t||[])).next())}))}n.d(t,{A:()=>O}),"function"==typeof SuppressedError&&SuppressedError;var y="KEYS",m="VALUES",p="",g=function(){return h((function e(t,n){l(this,e);var r=t._tree,i=Array.from(r.keys());this.set=t,this._type=n,this._path=i.length>0?[{node:r,keys:i}]:[]}),[{key:"next",value:function(){var e=this.dive();return this.backtrack(),e}},{key:"dive",value:function(){if(0===this._path.length)return{done:!0,value:void 0};var e=F(this._path),t=e.node,n=e.keys;if(F(n)===p)return{done:!1,value:this.result()};var r=t.get(F(n));return this._path.push({node:r,keys:Array.from(r.keys())}),this.dive()}},{key:"backtrack",value:function(){if(0!==this._path.length){var e=F(this._path).keys;e.pop(),e.length>0||(this._path.pop(),this.backtrack())}}},{key:"key",value:function(){return this.set._prefix+this._path.map((function(e){var t=e.keys;return F(t)})).filter((function(e){return e!==p})).join("")}},{key:"value",value:function(){return F(this._path).node.get(p)}},{key:"result",value:function(){switch(this._type){case m:return this.value();case y:return this.key();default:return[this.key(),this.value()]}}},{key:Symbol.iterator,value:function(){return this}}])}(),F=function(e){return e[e.length-1]},b=function(e,t,n,r,i,u,a,s){var c,l=u*a,f=o(e.keys());try{e:for(f.s();!(c=f.n()).done;){var h=c.value;if(h===p){var d=i[l-1];d<=n&&r.set(s,[e.get(h),d])}else{for(var v=u,y=0;y<h.length;++y,++v){for(var m=h[y],g=a*v,F=g-a,D=i[g],_=Math.max(0,v-n-1),w=Math.min(a-1,v+n),k=_;k<w;++k){var x=m!==t[k],E=i[F+k]+ +x,C=i[F+k+1]+1,A=i[g+k]+1,S=i[g+k+1]=Math.min(E,C,A);S<D&&(D=S)}if(D>n)continue e}b(e.get(h),t,n,r,i,v,a,s+h)}}}catch(e){f.e(e)}finally{f.f()}},D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";l(this,e),this._size=void 0,this._tree=t,this._prefix=n}return h(e,[{key:"atPrefix",value:function(t){if(!t.startsWith(this._prefix))throw new Error("Mismatched prefix");var n=u(_(this._tree,t.slice(this._prefix.length)),2),r=n[0],i=n[1];if(void 0===r){var a,s=u(A(i),2),c=s[0],l=s[1],f=o(c.keys());try{for(f.s();!(a=f.n()).done;){var h=a.value;if(h!==p&&h.startsWith(l)){var d=new Map;return d.set(h.slice(l.length),c.get(h)),new e(d,t)}}}catch(e){f.e(e)}finally{f.f()}}return new e(r,t)}},{key:"clear",value:function(){this._size=void 0,this._tree.clear()}},{key:"delete",value:function(e){return this._size=void 0,x(this._tree,e)}},{key:"entries",value:function(){return new g(this,"ENTRIES")}},{key:"forEach",value:function(e){var t,n=o(this);try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2);e(r[0],r[1],this)}}catch(e){n.e(e)}finally{n.f()}}},{key:"fuzzyGet",value:function(e,t){return function(e,t,n){var r=new Map;if(void 0===t)return r;for(var i=t.length+1,u=i+n,o=new Uint8Array(u*i).fill(n+1),a=0;a<i;++a)o[a]=a;for(var s=1;s<u;++s)o[s*i]=s;return b(e,t,n,r,o,1,i,""),r}(this._tree,e,t)}},{key:"get",value:function(e){var t=w(this._tree,e);return void 0!==t?t.get(p):void 0}},{key:"has",value:function(e){var t=w(this._tree,e);return void 0!==t&&t.has(p)}},{key:"keys",value:function(){return new g(this,y)}},{key:"set",value:function(e,t){if("string"!=typeof e)throw new Error("key must be a string");return this._size=void 0,k(this._tree,e).set(p,t),this}},{key:"size",get:function(){if(this._size)return this._size;this._size=0;for(var e=this.entries();!e.next().done;)this._size+=1;return this._size}},{key:"update",value:function(e,t){if("string"!=typeof e)throw new Error("key must be a string");this._size=void 0;var n=k(this._tree,e);return n.set(p,t(n.get(p))),this}},{key:"fetch",value:function(e,t){if("string"!=typeof e)throw new Error("key must be a string");this._size=void 0;var n=k(this._tree,e),r=n.get(p);return void 0===r&&n.set(p,r=t()),r}},{key:"values",value:function(){return new g(this,m)}},{key:Symbol.iterator,value:function(){return this.entries()}}],[{key:"from",value:function(t){var n,r=new e,i=o(t);try{for(i.s();!(n=i.n()).done;){var a=u(n.value,2),s=a[0],c=a[1];r.set(s,c)}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"fromObject",value:function(t){return e.from(Object.entries(t))}}])}(),_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(0===t.length||null==e)return[e,n];var r,i=o(e.keys());try{for(i.s();!(r=i.n()).done;){var u=r.value;if(u!==p&&t.startsWith(u))return n.push([e,u]),_(e.get(u),t.slice(u.length),n)}}catch(e){i.e(e)}finally{i.f()}return n.push([e,t]),_(void 0,"",n)},w=function(e,t){if(0===t.length||null==e)return e;var n,r=o(e.keys());try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i!==p&&t.startsWith(i))return w(e.get(i),t.slice(i.length))}}catch(e){r.e(e)}finally{r.f()}},k=function(e,t){var n=t.length;e:for(var r=0;e&&r<n;){var i,u=o(e.keys());try{for(u.s();!(i=u.n()).done;){var a=i.value;if(a!==p&&t[r]===a[0]){for(var s=Math.min(n-r,a.length),c=1;c<s&&t[r+c]===a[c];)++c;var l=e.get(a);if(c===a.length)e=l;else{var f=new Map;f.set(a.slice(c),l),e.set(t.slice(r,r+c),f),e.delete(a),e=f}r+=c;continue e}}}catch(e){u.e(e)}finally{u.f()}var h=new Map;return e.set(t.slice(r),h),h}return e},x=function(e,t){var n=u(_(e,t),2),r=n[0],i=n[1];if(void 0!==r)if(r.delete(p),0===r.size)E(i);else if(1===r.size){var o=u(r.entries().next().value,2),a=o[0],s=o[1];C(i,a,s)}},E=function(e){if(0!==e.length){var t=u(A(e),2),n=t[0],r=t[1];if(n.delete(r),0===n.size)E(e.slice(0,-1));else if(1===n.size){var i=u(n.entries().next().value,2),o=i[0],a=i[1];o!==p&&C(e.slice(0,-1),o,a)}}},C=function(e,t,n){if(0!==e.length){var r=u(A(e),2),i=r[0],o=r[1];i.set(o+t,n),i.delete(o)}},A=function(e){return e[e.length-1]},S="or",O=function(){function e(t){if(l(this,e),null==(null==t?void 0:t.fields))throw new Error('MiniSearch: option "fields" must be provided');var n=null==t.autoVacuum||!0===t.autoVacuum?N:t.autoVacuum;this._options=Object.assign(Object.assign(Object.assign({},M),t),{autoVacuum:n,searchOptions:Object.assign(Object.assign({},B),t.searchOptions||{}),autoSuggestOptions:Object.assign(Object.assign({},T),t.autoSuggestOptions||{})}),this._index=new D,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=P,this.addFields(this._options.fields)}return h(e,[{key:"add",value:function(e){var t=this._options,n=t.extractField,r=t.tokenize,i=t.processTerm,u=t.fields,a=t.idField,s=n(e,a);if(null==s)throw new Error('MiniSearch: document does not have ID field "'.concat(a,'"'));if(this._idToShortId.has(s))throw new Error("MiniSearch: duplicate ID ".concat(s));var c=this.addDocumentId(s);this.saveStoredFields(c,e);var l,f=o(u);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=n(e,h);if(null!=d){var v=r(d.toString(),h),y=this._fieldIds[h],m=new Set(v).size;this.addFieldLength(c,y,this._documentCount-1,m);var p,g=o(v);try{for(g.s();!(p=g.n()).done;){var F=i(p.value,h);if(Array.isArray(F)){var b,D=o(F);try{for(D.s();!(b=D.n()).done;){var _=b.value;this.addTerm(y,c,_)}}catch(e){D.e(e)}finally{D.f()}}else F&&this.addTerm(y,c,F)}}catch(e){g.e(e)}finally{g.f()}}}}catch(e){f.e(e)}finally{f.f()}}},{key:"addAll",value:function(e){var t,n=o(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.add(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"addAllAsync",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).chunkSize,r=void 0===n?10:n,i={chunk:[],promise:Promise.resolve()},u=e.reduce((function(e,n,i){var u=e.chunk,o=e.promise;return u.push(n),(i+1)%r==0?{chunk:[],promise:o.then((function(){return new Promise((function(e){return setTimeout(e,0)}))})).then((function(){return t.addAll(u)}))}:{chunk:u,promise:o}}),i),o=u.chunk;return u.promise.then((function(){return t.addAll(o)}))}},{key:"remove",value:function(e){var t=this._options,n=t.tokenize,r=t.processTerm,i=t.extractField,u=t.fields,a=t.idField,s=i(e,a);if(null==s)throw new Error('MiniSearch: document does not have ID field "'.concat(a,'"'));var c=this._idToShortId.get(s);if(null==c)throw new Error("MiniSearch: cannot remove document with ID ".concat(s,": it is not in the index"));var l,f=o(u);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=i(e,h);if(null!=d){var v=n(d.toString(),h),y=this._fieldIds[h],m=new Set(v).size;this.removeFieldLength(c,y,this._documentCount,m);var p,g=o(v);try{for(g.s();!(p=g.n()).done;){var F=r(p.value,h);if(Array.isArray(F)){var b,D=o(F);try{for(D.s();!(b=D.n()).done;){var _=b.value;this.removeTerm(y,c,_)}}catch(e){D.e(e)}finally{D.f()}}else F&&this.removeTerm(y,c,F)}}catch(e){g.e(e)}finally{g.f()}}}}catch(e){f.e(e)}finally{f.f()}this._storedFields.delete(c),this._documentIds.delete(c),this._idToShortId.delete(s),this._fieldLength.delete(c),this._documentCount-=1}},{key:"removeAll",value:function(e){if(e){var t,n=o(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.remove(r)}}catch(e){n.e(e)}finally{n.f()}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new D,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}},{key:"discard",value:function(e){var t=this,n=this._idToShortId.get(e);if(null==n)throw new Error("MiniSearch: cannot discard document with ID ".concat(e,": it is not in the index"));this._idToShortId.delete(e),this._documentIds.delete(n),this._storedFields.delete(n),(this._fieldLength.get(n)||[]).forEach((function(e,r){t.removeFieldLength(n,r,t._documentCount,e)})),this._fieldLength.delete(n),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}},{key:"maybeAutoVacuum",value:function(){if(!1!==this._options.autoVacuum){var e=this._options.autoVacuum,t=e.minDirtFactor,n=e.minDirtCount,r=e.batchSize,i=e.batchWait;this.conditionalVacuum({batchSize:r,batchWait:i},{minDirtCount:n,minDirtFactor:t})}}},{key:"discardAll",value:function(e){var t=this._options.autoVacuum;try{this._options.autoVacuum=!1;var n,r=o(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.discard(i)}}catch(e){r.e(e)}finally{r.f()}}finally{this._options.autoVacuum=t}this.maybeAutoVacuum()}},{key:"replace",value:function(e){var t=this._options,n=t.idField,r=(0,t.extractField)(e,n);this.discard(r),this.add(e)}},{key:"vacuum",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.conditionalVacuum(e)}},{key:"conditionalVacuum",value:function(e,t){var n=this;return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,null!=this._enqueuedVacuum||(this._enqueuedVacuum=this._currentVacuum.then((function(){var t=n._enqueuedVacuumConditions;return n._enqueuedVacuumConditions=P,n.performVacuuming(e,t)}))),this._enqueuedVacuum):!1===this.vacuumConditionsMet(t)?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)}},{key:"performVacuuming",value:function(e,t){return v(this,void 0,void 0,i().mark((function n(){var r,a,s,c,l,f,h,d,v,y,m,p,g,F,b,D,_,w;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=this._dirtCount,!this.vacuumConditionsMet(t)){n.next=59;break}a=e.batchSize||V.batchSize,s=e.batchWait||V.batchWait,c=1,l=o(this._index),n.prev=6,l.s();case 8:if((f=l.n()).done){n.next=50;break}h=u(f.value,2),d=h[0],v=h[1],y=o(v),n.prev=11,y.s();case 13:if((m=y.n()).done){n.next=35;break}p=u(m.value,2),g=p[0],F=p[1],b=o(F),n.prev=16,b.s();case 18:if((D=b.n()).done){n.next=25;break}if(_=u(D.value,1),w=_[0],!this._documentIds.has(w)){n.next=22;break}return n.abrupt("continue",23);case 22:F.size<=1?v.delete(g):F.delete(w);case 23:n.next=18;break;case 25:n.next=30;break;case 27:n.prev=27,n.t0=n.catch(16),b.e(n.t0);case 30:return n.prev=30,b.f(),n.finish(30);case 33:n.next=13;break;case 35:n.next=40;break;case 37:n.prev=37,n.t1=n.catch(11),y.e(n.t1);case 40:return n.prev=40,y.f(),n.finish(40);case 43:if(0===this._index.get(d).size&&this._index.delete(d),c%a!=0){n.next=47;break}return n.next=47,new Promise((function(e){return setTimeout(e,s)}));case 47:c+=1;case 48:n.next=8;break;case 50:n.next=55;break;case 52:n.prev=52,n.t2=n.catch(6),l.e(n.t2);case 55:return n.prev=55,l.f(),n.finish(55);case 58:this._dirtCount-=r;case 59:return n.next=61,null;case 61:this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null;case 63:case"end":return n.stop()}}),n,this,[[6,52,55,58],[11,37,40,43],[16,27,30,33]])})))}},{key:"vacuumConditionsMet",value:function(e){if(null==e)return!0;var t=e.minDirtCount,n=e.minDirtFactor;return t=t||N.minDirtCount,n=n||N.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=n}},{key:"isVacuuming",get:function(){return null!=this._currentVacuum}},{key:"dirtCount",get:function(){return this._dirtCount}},{key:"dirtFactor",get:function(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}},{key:"has",value:function(e){return this._idToShortId.has(e)}},{key:"getStoredFields",value:function(e){var t=this._idToShortId.get(e);if(null!=t)return this._storedFields.get(t)}},{key:"search",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[],a=o(this.executeQuery(t,r));try{for(a.s();!(n=a.n()).done;){var s=u(n.value,2),c=s[0],l=s[1],f=l.score,h=l.terms,d=l.match,v=h.length||1,y={id:this._documentIds.get(c),score:f*v,terms:Object.keys(d),queryTerms:h,match:d};Object.assign(y,this._storedFields.get(c)),(null==r.filter||r.filter(y))&&i.push(y)}}catch(e){a.e(e)}finally{a.f()}return t===e.wildcard&&null==r.boostDocument&&null==this._options.searchOptions.boostDocument||i.sort(J),i}},{key:"autoSuggest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object.assign(Object.assign({},this._options.autoSuggestOptions),t);var n,r=new Map,i=o(this.search(e,t));try{for(i.s();!(n=i.n()).done;){var a=n.value,s=a.score,c=a.terms,l=c.join(" "),f=r.get(l);null!=f?(f.score+=s,f.count+=1):r.set(l,{score:s,terms:c,count:1})}}catch(e){i.e(e)}finally{i.f()}var h,d=[],v=o(r);try{for(v.s();!(h=v.n()).done;){var y=u(h.value,2),m=y[0],p=y[1],g=p.score,F=p.terms,b=p.count;d.push({suggestion:m,terms:F,score:g/b})}}catch(e){v.e(e)}finally{v.f()}return d.sort(J),d}},{key:"documentCount",get:function(){return this._documentCount}},{key:"termCount",get:function(){return this._index.size}},{key:"executeQuery",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t===e.wildcard)return this.executeWildcardQuery(r);if("string"!=typeof t){var i=Object.assign(Object.assign(Object.assign({},r),t),{queries:void 0}),u=t.queries.map((function(e){return n.executeQuery(e,i)}));return this.combineResults(u,i.combineWith)}var o=this._options,a=o.tokenize,s=o.processTerm,c=o.searchOptions,l=Object.assign(Object.assign({tokenize:a,processTerm:s},c),r),f=l.tokenize,h=l.processTerm,d=f(t).flatMap((function(e){return h(e)})).filter((function(e){return!!e})).map(L(l)).map((function(e){return n.executeQuerySpec(e,l)}));return this.combineResults(d,l.combineWith)}},{key:"executeQuerySpec",value:function(e,t){var n,i,a=Object.assign(Object.assign({},this._options.searchOptions),t),s=(a.fields||this._options.fields).reduce((function(e,t){return Object.assign(Object.assign({},e),r({},t,I(a.boost,t)||1))}),{}),c=a.boostDocument,l=a.weights,f=a.maxFuzzy,h=a.bm25,d=Object.assign(Object.assign({},B.weights),l),v=d.fuzzy,y=d.prefix,m=this._index.get(e.term),p=this.termResults(e.term,e.term,1,e.termBoost,m,s,c,h);if(e.prefix&&(n=this._index.atPrefix(e.term)),e.fuzzy){var g=!0===e.fuzzy?.2:e.fuzzy,F=g<1?Math.min(f,Math.round(e.term.length*g)):g;F&&(i=this._index.fuzzyGet(e.term,F))}if(n){var b,D=o(n);try{for(D.s();!(b=D.n()).done;){var _=u(b.value,2),w=_[0],k=_[1],x=w.length-e.term.length;if(x){null==i||i.delete(w);var E=y*w.length/(w.length+.3*x);this.termResults(e.term,w,E,e.termBoost,k,s,c,h,p)}}}catch(e){D.e(e)}finally{D.f()}}if(i){var C,A=o(i.keys());try{for(A.s();!(C=A.n()).done;){var S=C.value,O=u(i.get(S),2),j=O[0],z=O[1];if(z){var L=v*S.length/(S.length+z);this.termResults(e.term,S,L,e.termBoost,j,s,c,h,p)}}}catch(e){A.e(e)}finally{A.f()}}return p}},{key:"executeWildcardQuery",value:function(e){var t,n=new Map,r=Object.assign(Object.assign({},this._options.searchOptions),e),i=o(this._documentIds);try{for(i.s();!(t=i.n()).done;){var a=u(t.value,2),s=a[0],c=a[1],l=r.boostDocument?r.boostDocument(c,"",this._storedFields.get(s)):1;n.set(s,{score:l,terms:[],match:{}})}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"combineResults",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;if(0===e.length)return new Map;var n=t.toLowerCase(),r=j[n];if(!r)throw new Error("Invalid combination operator: ".concat(t));return e.reduce(r)||new Map}},{key:"toJSON",value:function(){var e,t=[],n=o(this._index);try{for(n.s();!(e=n.n()).done;){var r,i=u(e.value,2),a=i[0],s=i[1],c={},l=o(s);try{for(l.s();!(r=l.n()).done;){var f=u(r.value,2),h=f[0],d=f[1];c[h]=Object.fromEntries(d)}}catch(e){l.e(e)}finally{l.f()}t.push([a,c])}}catch(e){n.e(e)}finally{n.f()}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:t,serializationVersion:2}}},{key:"termResults",value:function(e,t,n,i,u,a,s,c){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new Map;if(null==u)return l;for(var f=0,h=Object.keys(a);f<h.length;f++){var d=h[f],v=a[d],y=this._fieldIds[d],m=u.get(y);if(null!=m){var p,g=m.size,F=this._avgFieldLength[y],b=o(m.keys());try{for(b.s();!(p=b.n()).done;){var D=p.value;if(this._documentIds.has(D)){var _=s?s(this._documentIds.get(D),t,this._storedFields.get(D)):1;if(_){var w=m.get(D),k=this._fieldLength.get(D)[y],x=n*i*v*_*z(w,g,this._documentCount,k,F,c),E=l.get(D);if(E){E.score+=x,W(E.terms,e);var C=I(E.match,t);C?C.push(d):E.match[t]=[d]}else l.set(D,{score:x,terms:[e],match:r({},t,[d])})}}else this.removeTerm(y,D,t),g-=1}}catch(e){b.e(e)}finally{b.f()}}}return l}},{key:"addTerm",value:function(e,t,n){var r=this._index.fetch(n,R),i=r.get(e);if(null==i)(i=new Map).set(t,1),r.set(e,i);else{var u=i.get(t);i.set(t,(u||0)+1)}}},{key:"removeTerm",value:function(e,t,n){if(this._index.has(n)){var r=this._index.fetch(n,R),i=r.get(e);null==i||null==i.get(t)?this.warnDocumentChanged(t,e,n):i.get(t)<=1?i.size<=1?r.delete(e):i.delete(t):i.set(t,i.get(t)-1),0===this._index.get(n).size&&this._index.delete(n)}else this.warnDocumentChanged(t,e,n)}},{key:"warnDocumentChanged",value:function(e,t,n){for(var r=0,i=Object.keys(this._fieldIds);r<i.length;r++){var u=i[r];if(this._fieldIds[u]===t)return void this._options.logger("warn","MiniSearch: document with ID ".concat(this._documentIds.get(e),' has changed before removal: term "').concat(n,'" was not present in field "').concat(u,'". Removing a document after it has changed can corrupt the index!'),"version_conflict")}}},{key:"addDocumentId",value:function(e){var t=this._nextId;return this._idToShortId.set(e,t),this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t}},{key:"addFields",value:function(e){for(var t=0;t<e.length;t++)this._fieldIds[e[t]]=t}},{key:"addFieldLength",value:function(e,t,n,r){var i=this._fieldLength.get(e);null==i&&this._fieldLength.set(e,i=[]),i[t]=r;var u=(this._avgFieldLength[t]||0)*n+r;this._avgFieldLength[t]=u/(n+1)}},{key:"removeFieldLength",value:function(e,t,n,r){if(1!==n){var i=this._avgFieldLength[t]*n-r;this._avgFieldLength[t]=i/(n-1)}else this._avgFieldLength[t]=0}},{key:"saveStoredFields",value:function(e,t){var n=this._options,r=n.storeFields,i=n.extractField;if(null!=r&&0!==r.length){var u=this._storedFields.get(e);null==u&&this._storedFields.set(e,u={});var a,s=o(r);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=i(t,c);void 0!==l&&(u[c]=l)}}catch(e){s.e(e)}finally{s.f()}}}}],[{key:"loadJSON",value:function(e,t){if(null==t)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),t)}},{key:"loadJSONAsync",value:function(e,t){return v(this,void 0,void 0,i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=t){n.next=2;break}throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");case 2:return n.abrupt("return",this.loadJSAsync(JSON.parse(e),t));case 3:case"end":return n.stop()}}),n,this)})))}},{key:"getDefault",value:function(e){if(M.hasOwnProperty(e))return I(M,e);throw new Error('MiniSearch: unknown option "'.concat(e,'"'))}},{key:"loadJS",value:function(e,t){var n=e.index,r=e.documentIds,i=e.fieldLength,a=e.storedFields,s=e.serializationVersion,c=this.instantiateMiniSearch(e,t);c._documentIds=G(r),c._fieldLength=G(i),c._storedFields=G(a);var l,f=o(c._documentIds);try{for(f.s();!(l=f.n()).done;){var h=u(l.value,2),d=h[0],v=h[1];c._idToShortId.set(v,d)}}catch(e){f.e(e)}finally{f.f()}var y,m=o(n);try{for(m.s();!(y=m.n()).done;){for(var p=u(y.value,2),g=p[0],F=p[1],b=new Map,D=0,_=Object.keys(F);D<_.length;D++){var w=_[D],k=F[w];1===s&&(k=k.ds),b.set(parseInt(w,10),G(k))}c._index.set(g,b)}}catch(e){m.e(e)}finally{m.f()}return c}},{key:"loadJSAsync",value:function(e,t){return v(this,void 0,void 0,i().mark((function n(){var r,a,s,c,l,f,h,d,v,y,m,p,g,F,b,D,_,w,k,x,E,C;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.index,a=e.documentIds,s=e.fieldLength,c=e.storedFields,l=e.serializationVersion,f=this.instantiateMiniSearch(e,t),n.next=4,Q(a);case 4:return f._documentIds=n.sent,n.next=7,Q(s);case 7:return f._fieldLength=n.sent,n.next=10,Q(c);case 10:f._storedFields=n.sent,h=o(f._documentIds);try{for(h.s();!(d=h.n()).done;)v=u(d.value,2),y=v[0],m=v[1],f._idToShortId.set(m,y)}catch(e){h.e(e)}finally{h.f()}p=0,g=o(r),n.prev=15,g.s();case 17:if((F=g.n()).done){n.next=40;break}b=u(F.value,2),D=b[0],_=b[1],w=new Map,k=0,x=Object.keys(_);case 21:if(!(k<x.length)){n.next=34;break}return E=x[k],C=_[E],1===l&&(C=C.ds),n.t0=w,n.t1=parseInt(E,10),n.next=29,Q(C);case 29:n.t2=n.sent,n.t0.set.call(n.t0,n.t1,n.t2);case 31:k++,n.next=21;break;case 34:if(++p%1e3!=0){n.next=37;break}return n.next=37,U(0);case 37:f._index.set(D,w);case 38:n.next=17;break;case 40:n.next=45;break;case 42:n.prev=42,n.t3=n.catch(15),g.e(n.t3);case 45:return n.prev=45,g.f(),n.finish(45);case 48:return n.abrupt("return",f);case 49:case"end":return n.stop()}}),n,this,[[15,42,45,48]])})))}},{key:"instantiateMiniSearch",value:function(t,n){var r=t.documentCount,i=t.nextId,u=t.fieldIds,o=t.averageFieldLength,a=t.dirtCount,s=t.serializationVersion;if(1!==s&&2!==s)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var c=new e(n);return c._documentCount=r,c._nextId=i,c._idToShortId=new Map,c._fieldIds=u,c._avgFieldLength=o,c._dirtCount=a||0,c._index=new D,c}}])}();O.wildcard=Symbol("*");var I=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},j=r(r(r({},S,(function(e,t){var n,r=o(t.keys());try{for(r.s();!(n=r.n()).done;){var i=n.value,u=e.get(i);if(null==u)e.set(i,t.get(i));else{var a=t.get(i),s=a.score,c=a.terms,l=a.match;u.score=u.score+s,u.match=Object.assign(u.match,l),q(u.terms,c)}}}catch(e){r.e(e)}finally{r.f()}return e})),"and",(function(e,t){var n,r=new Map,i=o(t.keys());try{for(i.s();!(n=i.n()).done;){var u=n.value,a=e.get(u);if(null!=a){var s=t.get(u),c=s.score,l=s.terms,f=s.match;q(a.terms,l),r.set(u,{score:a.score+c,terms:a.terms,match:Object.assign(a.match,f)})}}}catch(e){i.e(e)}finally{i.f()}return r})),"and_not",(function(e,t){var n,r=o(t.keys());try{for(r.s();!(n=r.n()).done;){var i=n.value;e.delete(i)}}catch(e){r.e(e)}finally{r.f()}return e})),z=function(e,t,n,r,i,u){var o=u.k,a=u.b,s=u.d;return Math.log(1+(n-t+.5)/(t+.5))*(s+e*(o+1)/(e+o*(1-a+a*r/i)))},L=function(e){return function(t,n,r){return{term:t,fuzzy:"function"==typeof e.fuzzy?e.fuzzy(t,n,r):e.fuzzy||!1,prefix:"function"==typeof e.prefix?e.prefix(t,n,r):!0===e.prefix,termBoost:"function"==typeof e.boostTerm?e.boostTerm(t,n,r):1}}},M={idField:"id",extractField:function(e,t){return e[t]},tokenize:function(e){return e.split(Y)},processTerm:function(e){return e.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[],logger:function(e,t){"function"==typeof(null===console||void 0===console?void 0:console[e])&&console[e](t)},autoVacuum:!0},B={combineWith:S,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:{k:1.2,b:.7,d:.5}},T={combineWith:"and",prefix:function(e,t,n){return t===n.length-1}},V={batchSize:1e3,batchWait:10},P={minDirtFactor:.1,minDirtCount:20},N=Object.assign(Object.assign({},V),P),W=function(e,t){e.includes(t)||e.push(t)},q=function(e,t){var n,r=o(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.includes(i)||e.push(i)}}catch(e){r.e(e)}finally{r.f()}},J=function(e,t){var n=e.score;return t.score-n},R=function(){return new Map},G=function(e){for(var t=new Map,n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t.set(parseInt(i,10),e[i])}return t},Q=function(e){return v(void 0,void 0,void 0,i().mark((function t(){var n,r,u,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Map,r=0,u=0,o=Object.keys(e);case 3:if(!(u<o.length)){t.next=12;break}if(a=o[u],n.set(parseInt(a,10),e[a]),++r%1e3!=0){t.next=9;break}return t.next=9,U(0);case 9:u++,t.next=3;break;case 12:return t.abrupt("return",n);case 13:case"end":return t.stop()}}),t)})))},U=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Y=/(?:[\n\r -#%-\*,-\/:;\?@\[-\]_\{\}\xA0\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F])+/},33682:(e,t,n)=>{n.d(t,{J:()=>x});const r=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,u=this.s;if(u){const e=1&u?t:n;if(e){try{i(r,1,e(this.v))}catch(e){i(r,2,e)}return r}return this}return this.o=function(e){try{const u=e.v;1&e.s?i(r,1,t?t(u):u):n?i(r,1,n(u)):i(r,2,u)}catch(e){i(r,2,e)}},r},e}();function i(e,t,n){if(!e.s){if(n instanceof r){if(!n.s)return void(n.o=i.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(i.bind(null,e,t),i.bind(null,e,2));e.s=t,e.v=n;const u=e.o;u&&u(e)}}var u=0,o="function"==typeof WeakMap?WeakMap:function(){var e="function"==typeof Symbol?Symbol(0):"__weak$"+ ++u;this.set=function(t,n){t[e]=n},this.get=function(t){return t[e]}};function a(e,t){return new Promise((function(n,r){e.onsuccess=function(){var r=e.result;t&&(r=t(r)),n(r)},e.onerror=function(){r(e.error)}}))}function s(e,t){return a(e.openCursor(t),(function(e){return e?[e.key,e.value]:[]}))}function c(e){return new Promise((function(t,n){e.oncomplete=function(){t()},e.onabort=function(){n(e.error)},e.onerror=function(){n(e.error)}}))}function l(e){if(!function(e){if("number"==typeof e||"string"==typeof e)return!0;if("object"==typeof e&&e){if(Array.isArray(e))return!0;if("setUTCFullYear"in e)return!0;if("function"==typeof ArrayBuffer&&ArrayBuffer.isView(e))return!0;if("byteLength"in e&&"length"in e)return!0}return!1}(e))throw Error("kv-storage: The given value is not allowed as a key")}var f={};function h(e,t){return s(e,d(t))}function d(e){return e===f?IDBKeyRange.lowerBound(-1/0):IDBKeyRange.lowerBound(e,!0)}var v=new o,y=new o,m=new o,p=new o,g=function(){};function F(e,t){return t((function(t,n){try{function f(){return y.set(e,o),m.set(e,void 0),{value:c,done:void 0===o}}var u=y.get(e);if(void 0===u)return Promise.resolve({value:void 0,done:!0});var o,a,c,l=function(e,t){var n,u=-1;e:{for(var o=0;o<t.length;o++){var a=t[o][0];if(a){var s=a();if(s&&s.then)break e;if(s===e){u=o;break}}else u=o}if(-1!==u){do{for(var c=t[u][1];!c;)c=t[++u][1];var l=c();if(l&&l.then){n=!0;break e}var f=t[u][2];u++}while(f&&!f());return l}}const h=new r,d=i.bind(null,h,2);return(n?l.then(v):s.then((function n(r){for(;;){if(r===e){u=o;break}if(++o===t.length){if(-1!==u)break;return void i(h,1,c)}if(a=t[o][0]){if((r=a())&&r.then)return void r.then(n).then(void 0,d)}else u=o}do{for(var s=t[u][1];!s;)s=t[++u][1];var c=s();if(c&&c.then)return void c.then(v).then(void 0,d);var l=t[u][2];u++}while(l&&!l());i(h,1,c)}))).then(void 0,d),h;function v(e){for(;;){var n=t[u][2];if(!n||n())break;for(var r=t[++u][1];!r;)r=t[++u][1];if((e=r())&&e.then)return void e.then(v).then(void 0,d)}i(h,1,e)}}(p.get(e),[[function(){return"keys"},function(){return Promise.resolve(function(e,t){return s(e,d(t)).then((function(e){return e[0]}))}(n,u)).then((function(e){c=o=e}))}],[function(){return"values"},function(){return Promise.resolve(h(n,u)).then((function(e){var t;o=(t=e)[0],c=a=t[1]}))}],[function(){return"entries"},function(){return Promise.resolve(h(n,u)).then((function(e){var t;a=(t=e)[1],c=void 0===(o=t[0])?void 0:[o,a]}))}]]);return Promise.resolve(l&&l.then?l.then(f):f())}catch(v){return Promise.reject(v)}}))}function b(e,t){var n=new g;return p.set(n,e),v.set(n,t),y.set(n,f),m.set(n,void 0),n}g.prototype.return=function(){y.set(this,void 0)},g.prototype.next=function(){var e=this,t=v.get(this);if(!t)return Promise.reject(new TypeError("Invalid this value"));var n,r=m.get(this);return n=void 0!==r?r.then((function(){return F(e,t)})):F(this,t),m.set(this,n),n},"function"==typeof Symbol&&Symbol.asyncIterator&&(g.prototype[Symbol.asyncIterator]=function(){return this});var D=function(e,t,n){try{return null===w.get(e)&&function(e){var t=_.get(e);w.set(e,new Promise((function(n,r){var i=self.indexedDB.open(t,1);i.onsuccess=function(){var u=i.result;(function(e,t,n){if(1!==e.objectStoreNames.length)return n(E(t)),!1;if(e.objectStoreNames[0]!==k)return n(E(t)),!1;var r=e.transaction(k,"readonly").objectStore(k);return!(r.autoIncrement||r.keyPath||r.indexNames.length)||(n(E(t)),!1)})(u,t,r)&&(u.onclose=function(){w.set(e,null)},u.onversionchange=function(){u.close(),w.set(e,null)},n(u))},i.onerror=function(){return r(i.error)},i.onupgradeneeded=function(){try{i.result.createObjectStore(k)}catch(e){r(e)}}})))}(e),Promise.resolve(w.get(e)).then((function(e){var r=e.transaction(k,t),i=r.objectStore(k);return n(r,i)}))}catch(e){return Promise.reject(e)}},_=new o,w=new o,k="store",x=function(e){var t="kv-storage:"+e;w.set(this,null),_.set(this,t),this.backingStore={database:t,store:k,version:1}};function E(e){return new Error('kv-storage: database "'+e+'" corrupted')}x.prototype.set=function(e,t){try{return l(e),D(this,"readwrite",(function(n,r){return void 0===t?r.delete(e):r.put(t,e),c(n)}))}catch(e){return Promise.reject(e)}},x.prototype.get=function(e){try{return l(e),D(this,"readonly",(function(t,n){return a(n.get(e))}))}catch(e){return Promise.reject(e)}},x.prototype.delete=function(e){try{return l(e),D(this,"readwrite",(function(t,n){return n.delete(e),c(t)}))}catch(e){return Promise.reject(e)}},x.prototype.clear=function(){try{var e=this;function i(){function n(){return a(self.indexedDB.deleteDatabase(_.get(e)))}var r=function(){if(t){try{t.close()}catch(e){}return Promise.resolve(new Promise(setTimeout)).then((function(){}))}}();return r&&r.then?r.then(n):n()}var t,n=w.get(e),r=function(){if(null!==n){function i(){w.set(e,null)}var r=function(e,r){try{var i=Promise.resolve(n).then((function(e){t=e}))}catch(e){return}return i&&i.then?i.then(void 0,(function(){})):i}();return r&&r.then?r.then(i):i()}}();return r&&r.then?r.then(i):i()}catch(e){return Promise.reject(e)}},x.prototype.keys=function(){var e=this;return b("keys",(function(t){return D(e,"readonly",t)}))},x.prototype.values=function(){var e=this;return b("values",(function(t){return D(e,"readonly",t)}))},x.prototype.entries=function(){var e=this;return b("entries",(function(t){return D(e,"readonly",t)}))},"function"==typeof Symbol&&Symbol.asyncIterator&&(x.prototype[Symbol.asyncIterator]=x.prototype.entries);new x("default")}}]);